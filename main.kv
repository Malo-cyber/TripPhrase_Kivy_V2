ScreenManager:
    LoginScreen:
        name: 'login'
    HomeScreen:
        name: 'home'
    SignInScreen:
        name: 'signin'
    ProfilScreen:
        name: 'profil'
    SelectLangPopUp:
        name: 'langpopup'
    AddContext:
        name: 'add_context'
    UpdateContext:
        name: 'update_context'

<UpdateContext>:
    MDCard:
        size_hint: None, None
        size: 1000, 1000
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDLabel:
            id: add_context
            text: "Add a new context "
            font_size: 40
            halign: 'center'
            size_hint_y: 0.2
            height: self.texture_size[1]
            padding_y: 5

        MDRaisedButton:
            id: src_context_button
            text: "Select the context to traduct"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release: root.src_context.open()


        MDRaisedButton:
            id: trg_lang_button
            text: "Select the language you'll traduct in"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release: root.trg_lang.open()

        MDTextField:
            id: trg_content
            mode : 'rectangle'
            multiline: False
            hint_text: "traduction of the context"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            write_tab: False    

        MDRoundFlatButton:
            text: "SUBMIT"
            font_size: 20
            pos_hint: {"center_x": 0.5}
            on_press: root.submit()


        Widget:
            size_hint_y: None
            height: 10  

<AddContext>:
    MDCard:
        size_hint: None, None
        size: 1000, 1000
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDLabel:
            id: add_context
            text: "Add a new context "
            font_size: 40
            halign: 'center'
            size_hint_y: 0.2
            height: self.texture_size[1]
            padding_y: 5

        MDRaisedButton:
            id: src_lang_button
            text: "Select the source language"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release: root.src_lang.open()

        MDTextField:
            id: src_content
            mode : 'rectangle'
            multiline: False
            hint_text: "type your new context here"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            write_tab: False

        MDRaisedButton:
            id: trg_lang_button
            text: "Select the source language"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release: root.trg_lang.open()

        MDTextField:
            id: trg_content
            mode : 'rectangle'
            multiline: False
            hint_text: "traduct your content at least in english"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            write_tab: False    

        MDRoundFlatButton:
            text: "SUBMIT"
            font_size: 20
            pos_hint: {"center_x": 0.5}
            on_press: root.submit()


        Widget:
            size_hint_y: None
            height: 10  

<ProfilScreen>:
    MDCard:
        size_hint: None, None
        size: 1000, 1000
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDLabel:
            id: register
            text: " Final Settings "
            font_size: 40
            halign: 'center'
            size_hint_y: 0.2
            height: self.texture_size[1]
            padding_y: 5

        MDRaisedButton:
            id: lang_button
            text: "Select your born Language"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release: root.lang.open()

        MDRoundFlatButton:
            text: "FINISH"
            font_size: 20
            pos_hint: {"center_x": 0.5}
            on_press: root.submit()
       

<SignInScreen>:
    MDCard:
        size_hint: None, None
        size: 1000, 1000
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDLabel:
            id: register
            text: "Register your informations "
            font_size: 40
            halign: 'center'
            size_hint_y: 0.2
            height: self.texture_size[1]
            padding_y: 5

        MDTextField:
            id: username
            mode : 'rectangle'
            multiline: False
            hint_text: "username"
            icon_right: "account"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            write_tab: False

        MDTextField:
            id: email
            mode : 'rectangle'
            multiline: False
            hint_text: "email"
            icon_right: "email"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            write_tab: False

        MDTextField:
            id: password1
            mode : 'rectangle'
            multiline: False
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            password: True
            write_tab: False
            error_color : 'red'
            


        MDTextField:
            id: password2
            mode : 'rectangle'
            multiline: False
            hint_text: "type again your password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 550
            font_size: 20
            pos_hint: {"center_x": 0.5}
            password: True
            write_tab: False
            error_color : 'red'
            

        MDRoundFlatButton:
            text: "NEXT"
            font_size: 20
            pos_hint: {"center_x": 0.5}
            on_press: root.submit()


        Widget:
            size_hint_y: None
            height: 10  


<LoginScreen>:
    MDCard:
        size_hint: None, None
        size: 500, 800
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDLabel:
            id: welcome_label
            text: "WELCOME"
            font_size: 40
            halign: 'center'
            size_hint_y: 0.5
            height: self.texture_size[1]
            padding_y: 30

        MDTextField:
            id: email
            mode : 'rectangle'
            hint_text: "email adress"
            icon_right: "account"
            size_hint_x: None
            width: 400
            font_size: 18
            pos_hint: {"center_x": 0.5}
            write_tab: False
            error_color : 'red'

        MDTextField:
            id: password
            mode : 'rectangle'
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 400
            font_size: 18
            pos_hint: {"center_x": 0.5}
            password: True
            write_tab: False
            error_color : 'red'
            

        MDRoundFlatButton:
            text: "LOG IN"
            font_size: 20
            pos_hint: {"center_x": 0.5}
            on_press: root.submit()
            
        MDRoundFlatButton:
            text: "SIGN IN"
            font_size: 20
            pos_hint: {"center_x": 0.5}    
            on_press :
                root.manager.transition.direction = 'left'
                root.manager.transition.duration = 1
                root.manager.current = 'signin'   

        Widget:
            size_hint_y: None
            height: 10

<SelectLangPopUp>:
    MDCard:
        size_hint: None, None
        size: 500, 800
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDLabel:
            id: lang_select
            text: " Language of traduction selection "
            font_size: 40
            halign: 'center'
            size_hint_y: 0.2
            height: self.texture_size[1]
            padding_y: 5

        MDRaisedButton:
            id: lang_button_select
            text: "Select your traduction language"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release: root.lang.open()

        
        MDRoundFlatButton:
            text: "SELECT"
            font_size: 20
            pos_hint: {"center_x": 0.5}
            on_press: root.submit()

<HomeScreen>:

    MDBoxLayout:
        orientation: 'vertical'

        MDToolbar:
            orientation : 'horizontal'
            id : tool_bar
            title : 'Trip Phrase'


            MDLabel:
                id: logged
                text : "You are not logged in"
                valign : 'center'

            MDRectangleFlatIconButton:
                id : trad_lang
                text : 'Select language'
                icon : "library"
                icon_size : "20sp"
                icon_color : 1, 1, 1, 1
                on_press : root.select_lang_trg()
                font_size: "20sp"
                text_color: 1, 1, 1, 1
                line_color: 0, 0, 0, 0
                halign : 'center'
                
            
        MDBottomNavigation:
            #color stuff
            #panel_color: 0,0,1,1
            id : nav

            MDBottomNavigationItem:
                name: 'screen 1'
                text: "Buy"
                icon: 'shopping'
                MDLabel : 
                    text : 'Buy'

            MDBottomNavigationItem:
                name: 'screen 2'
                text: "Learn"
                icon: 'briefcase'
                MDLabel : 
                    text : 'Learn'

            MDBottomNavigationItem:
                name: 'Home'
                text: "Home"
                icon: 'home'
                id : nav_home

                PhraseScrollView:
                    id : phrase_scroll_view
                
                AddContextButton:
                    id : addcontextbutton
                    data: self.opt
                    root_button_anim: True
                    
                    

                    
            MDBottomNavigationItem:
                name: 'screen 4'
                text: "List"
                icon: 'format-list-bulleted'
                
            
            MDBottomNavigationItem:
                name: 'screen 5'
                text: "setting"
                icon: 'cog-outline'
                MDLabel : 
                    text : 'setting'
                MDIconButton:
                    icon : 'account'
                    on_press : 
                        root.manager.transition.direction = 'left'
                        root.manager.transition.duration = 1
                        root.manager.current = 'login'


<ButtonLang>:
    on_press : root.callback()

<PhraseList>:
    cols : 2
    size_hint_y : None
    size_hint_x : 1
    height : self.minimum_height
    width : self.minimum_width
    spacing : "20dp"

<ButtonPhrase>:
    on_press : root.callback()

<ButtonContext>:
    on_press : self.parent.context_callback(self.text)

<ReturnButton>:
    on_press : self.parent.retour_callback()

<AddContextButton>:
    callback : app.add_context_callback

<PhraseScrollView>:
  